<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>PocketTogether</title>

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="PocketTogether">
  <meta property="og:description"
    content="一个基于 PocketBase 与 Vue3 的实时群聊与同步观看平台 | A real-time group chat and synchronized viewing platform built with PocketBase and Vue3.">
  <meta property="og:image" content="/social.jpg">
  <meta property="og:url" content="https://sakiko.top/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="PocketTogether">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="PocketTogether">
  <meta name="twitter:description"
    content="一个基于 PocketBase 与 Vue3 的实时群聊与同步观看平台 | A real-time group chat and synchronized viewing platform built with PocketBase and Vue3.">
  <meta name="twitter:image" content="/social.jpg">
  <meta name="twitter:site" content="@harukiO_0">

  <link href="/remixicon@4.6.0/fonts/remixicon.css" rel="stylesheet" />
  <link rel="preload" href="/remixicon@4.6.0/fonts/remixicon.woff2" as="font" type="font/woff2"
    crossorigin="anonymous" />

  <style>
    /* 在 index.html 中就初始化必要的颜色，以避免加载过程中的白屏 */
    :root {
      --vt-c-white: #ffffff;
      --vt-c-black: #181818;
      --vt-c-text-light-1: var(--vt-c-indigo);
      --vt-c-text-dark-2: rgba(235, 235, 235, 0.64);
      --color-background: var(--vt-c-white);
      --color-text: var(--vt-c-text-light-1);
    }

    :root.dark {
      --color-background: var(--vt-c-black);
      --color-text: var(--vt-c-text-dark-2);
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      font-weight: normal;
    }

    * {
      /* 窄滚动条 */
      scrollbar-width: thin;
      /* 滑块颜色 + 轨道透明 */
      scrollbar-color: var(--my-neutral) transparent;
    }

    html {
      color: var(--color-text);
      background: var(--color-background);
      /* 初始化滚动条，避免加载瞬间的抖动 */
      overflow-y: hidden;
      overflow-x: hidden;
    }

    body {
      height: 100vh;
      color: var(--color-text);
      background: var(--color-background);
      transition:
        color 0.5s,
        background-color 0.5s;
      line-height: 1.6;
      font-family:
        Inter,
        -apple-system,
        BlinkMacSystemFont,
        'Segoe UI',
        Roboto,
        Oxygen,
        Ubuntu,
        Cantarell,
        'Fira Sans',
        'Droid Sans',
        'Helvetica Neue',
        sans-serif;
      font-size: 15px;
      /* font-size: 16px; */
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* 伴随 index.html 的加载遮罩，将在 App.vue onMounted 中取消 */
    #index-mask {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: inherit;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 0.3s;
    }

    #index-loading {
      transition: opacity 0.3s;
    }

    #index-loading .decoration-box {
      width: 150px;
      height: 150px;
      color: #7899CC;
      transition: transform 500ms;
      animation-name: loading;
      animation-duration: 1500ms;
      animation-iteration-count: infinite;
      animation-delay: 2s;
    }

    @keyframes loading {
      0% {
        transform: rotate(0deg);
      }

      20% {
        transform: rotate(-5deg);
      }

      40% {
        transform: rotate(5deg);
      }

      60% {
        transform: rotate(-5deg);
      }

      80% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(0deg);
      }
    }
  </style>
  <script>
    // 立即调用函数表达式（IIFE） 来创建一个局部作用域。这样可以防止 scheme、isDarkMode 等变量泄漏到全局。
    ; (() => {
      /* 在 index.html 中就初始化颜色，以避免加载过程中的白屏 */
      // 读取本地存储中的 vueuse-color-scheme 值
      const scheme = localStorage.getItem('vueuse-color-scheme') || 'auto';
      // 根据 vueuse-color-scheme 的值设置主题
      // if (scheme === 'dark' || (scheme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      //   document.documentElement.classList.add('dark');
      // }
      const isDarkMode = scheme === 'dark' || (scheme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches)
      document.documentElement.classList.toggle('dark', isDarkMode)

      // 【251019】不再使用原生滚动条（不再需要担心滚动条宽度引起的抖动）
      // // 禁用滚动，将在 App.vue 中恢复（同时进行防止抖动的处理）
      // document.documentElement.style.overflowY = 'hidden'
    })()
  </script>
</head>

<body>
  <div id="index-mask">
    <div id="index-loading">
      <div class="decoration-box">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M2 8.99374C2 5.68349 4.67654 3 8.00066 3H15.9993C19.3134 3 22 5.69478 22 8.99374V21H8.00066C4.68659 21 2 18.3052 2 15.0063V8.99374ZM14 11V13H16V11H14ZM8 11V13H10V11H8Z">
          </path>
        </svg>
      </div>
    </div>
  </div>
  <div id="app"></div>
  <script type="module" src="/src/main.ts"></script>
</body>

</html>